```
    ╔═══════════════════════════════════════════════════════════════╗
    ║                                                               ║
    ║   ░██████╗░█████╗░██╗░░░██╗███╗░░██╗██████╗░                 ║
    ║   ██╔════╝██╔══██╗██║░░░██║████╗░██║██╔══██╗                 ║
    ║   ╚█████╗░██║░░██║██║░░░██║██╔██╗██║██║░░██║                 ║
    ║   ░╚═══██╗██║░░██║██║░░░██║██║╚████║██║░░██║                 ║
    ║   ██████╔╝╚█████╔╝╚██████╔╝██║░╚███║██████╔╝                ║
    ║   ╚═════╝░░╚════╝░░╚═════╝░╚═╝░░╚══╝╚═════╝░                ║
    ║                                                    FX         ║
    ║   Themed sound effects for Claude Code                        ║
    ║                                                               ║
    ╚═══════════════════════════════════════════════════════════════╝
```

<p align="center">
  <a href="./README.md">English</a> | <a href="./README.zh-CN.md">中文</a> | 日本語
</p>

> ターミナルが静かすぎる。音をつけよう。

**Sound FX** は [Claude Code](https://docs.anthropic.com/en/docs/claude-code) のプラグインで、セッションのライフサイクルイベント（セッション開始、プロンプト送信、タスク完了、エラーなど）にテーマサウンドエフェクトを再生します。

テーマを1つ選ぶか、**Mix モード**で12種類のテーマをランダムに混ぜましょう。JARVIS がデプロイを確認し、GLaDOS がエラーを嘲笑い、ピカチュウがテスト成功を祝い、WoW のペオンが渋々コマンドに従います。

---

## インストール

```bash
claude /plugin install https://github.com/6m1w/claude-sound-fx
```

Claude Code 内で以下を実行：

```
/sound-fx:setup
```

セットアップウィザードがテーマ選択とトリガーモードの設定を案内します。

### 必要条件

- **macOS**（音声再生に `afplay` を使用）
- プラグイン対応の **Claude Code**
- **Python 3**（設定ファイルの読み取り用 — macOS に標準搭載）

---

## テーマ

### SF & AI

| テーマ | 雰囲気 | 出典 |
|--------|--------|------|
| **Jarvis** | *「お呼びですか。」* — 冷静で有能、少しブリティッシュ。 | アイアンマン |
| **GLaDOS** | *「大成功でした。」* — 皮肉たっぷりのダークユーモア AI。 | Portal |
| **Star Trek** | クラシックな宇宙艦のインターフェースビープ音とレッドアラート。 | スタートレック |
| **Optimus Prime** | *「オートボット、出動！」* — ヒーロー指揮官のエネルギー。 | トランスフォーマー |

### アニメ

| テーマ | 雰囲気 | 出典 |
|--------|--------|------|
| **JoJo** | DIO の「無駄無駄」と承太郎の「やれやれだぜ」— カオスの二重奏。 | ジョジョの奇妙な冒険 |
| **One Piece** | ルフィの「よっしゃー！」— 純粋なゴム人間エネルギー。 | ワンピース |
| **Pikachu** | 「ピカチュウ！」— まさにあの声。 | ポケットモンスター |
| **Doraemon** | 「ドラえもーん！」— 未来からやってきたネコ型ロボット。 | ドラえもん |

### ゲーム & その他

| テーマ | 雰囲気 | 出典 |
|--------|--------|------|
| **WoW Peon** | *「仕事する準備できました！」* — 渋々、過労、共感できる。 | World of Warcraft |
| **StarCraft SCV** | *「SCV、出動準備完了！」* — 宇宙のブルーカラー作業員。 | StarCraft |
| **Steve Jobs** | *「One more thing...」* — インスピレーショナルな基調講演エネルギー。 | Apple |
| **Mechanical Keyboard** | *カチカチカチ* — 純粋な ASMR の満足感。 | あなたの夢 |

---

## 仕組み

Sound FX は7つの Claude Code ライフサイクルイベントにフックします：

```
 SessionStart ──→ 🔊 「準備完了。」              (テーマ: start)
 UserPromptSubmit ──→ 🔊 「了解。」             (テーマ: submit)
 Stop ──→ 🔊 「タスク完了。」                    (テーマ: complete)
 PostToolUseFailure ──→ 🔊 「エラーです。」      (テーマ: error)
 Notification ──→ 🔊 「ん？」                    (テーマ: notification)
 PreCompact ──→ 🔊 「記憶が薄れていく...」       (テーマ: precompact)
 SessionEnd ──→ 🔊 「また次回。」                (テーマ: session_end)
```

### モード

| モード | 動作 |
|--------|------|
| **Mix**（デフォルト） | イベントごとに12テーマからランダム選択。最大のカオス。 |
| **単一テーマ** | 1つのテーマに固定。集中したい人向け。 |

### トリガーレベル

| レベル | イベント |
|--------|----------|
| **Full**（デフォルト） | 全7イベントでサウンド再生 |
| **Minimal** | 開始、完了、エラーのみ |

設定は `~/.claude/sound-fx.local.json` に保存されます。`/sound-fx:setup` をいつでも再実行して変更可能です。

---

## リモート / SSH セットアップ

SSH 経由でリモートサーバーを使用中？サウンドはリモートでは再生できませんが、ローカル Mac にリレーできます。

**ローカル Mac で** — リレーサーバーを起動：

```bash
# まずプラグインのパスを確認
ls ~/.claude/plugins/sound-fx/

# リレーを起動
python3 ~/.claude/plugins/sound-fx/scripts/relay.py
```

リレーは `127.0.0.1:19876` でリッスンします。Claude Code がリモートマシンで実行されると、フックが自動的に非 macOS を検出し、SSH ポートフォワーディング経由でイベントをローカルリレーに `curl` します。

**ポートフォワーディング付き SSH：**

```bash
ssh -R 19876:127.0.0.1:19876 user@remote-server
```

---

## カスタムテーマの追加

コード変更は不要です。`assets/` にディレクトリを追加するだけ：

```
assets/my-theme/
├── manifest.json
├── MyThemeStart1.mp3
├── MyThemeComplete1.mp3
└── ...
```

`manifest.json` フォーマット：

```json
{
  "name": "My Theme",
  "description": "テーマのサウンドスタイルの説明",
  "start": ["MyThemeStart1.mp3"],
  "submit": [],
  "complete": ["MyThemeComplete1.mp3"],
  "error": [],
  "notification": [],
  "precompact": [],
  "session_end": []
}
```

空の配列 `[]` はそのイベントでサウンドを再生しないことを意味します。

---

## 環境変数

| 変数 | デフォルト | 説明 |
|------|-----------|------|
| `CLAUDE_SOUND_VOLUME` | `60` | 音量レベル（0–100） |
| `CLAUDE_SOUND_PORT` | `19876` | リモートモードのリレーサーバーポート |

---

## ライセンス

MIT
